# Development Agent

## Описание

Development Agent - это мета-агент для Cursor, который создает код, тесты и документацию на основе архитектурной документации, следуя лучшим практикам разработки.

## Назначение

Development Agent реализует функциональность CRM системы, включая:
- Структуру проекта (монорепо)
- Backend API (Node.js + TypeScript + Prisma)
- Frontend (Next.js)
- WhatsApp интеграцию
- Тесты (unit, integration, e2e)
- Документацию кода

## Использование

Когда нужно реализовать функциональность или исправить баг, используй инструкции из:
- `docs/agents/meta-agents/development/instructions.md`
- `docs/agent-templates/development/` (шаблоны для кода)

## Входные данные

Для работы Development Agent нужны:
- `docs/architecture/system-design.md` - системная архитектура
- `docs/architecture/database-schema.md` - схема базы данных
- `docs/architecture/api-contracts.md` - API контракты
- `docs/product/requirements.md` - требования к продукту
- `docs/product/user-stories.md` - user stories

## Выходные артефакты

Development Agent создает:
- Структуру проекта (`packages/`)
- Код (TypeScript)
- Тесты (Jest/Vitest, Playwright)
- Документацию (README, JSDoc, OpenAPI)

## Принципы работы

### Качество кода
- Чистый код (понятные имена, небольшие функции)
- TypeScript со строгой типизацией
- ESLint/Prettier для единого стиля

### Тестирование
- Unit тесты (минимум 70% coverage)
- Integration тесты для критичных потоков
- E2E тесты для основных сценариев

### Безопасность
- Валидация входных данных (Zod)
- Проверка tenant_id во всех запросах
- Защита от SQL injection (Prisma)
- Защита от XSS

### Мультитенантность
- Всегда проверять tenant_id
- Использовать RLS политики
- Тестировать изоляцию данных

## Управление задачами

- Разбивка на небольшие задачи (1-3 дня)
- Git workflow (feature/*, fix/*, chore/*)
- Commit сообщения в формате Conventional Commits

## Релизы

- Semantic Versioning (SemVer)
- Changelog для каждого релиза
- Автоматический деплой через CI/CD

## Работа с багами

- Приоритизация (Critical/High/Medium/Low)
- Воспроизведение через тесты
- Исправление с проверкой изоляции данных
- Документирование решения

## Примеры использования

### Пример 1: Реализация модуля клиентов

**Запрос**: "Реализуй модуль управления клиентами"

**Результат**: Создан модуль с CRUD операциями, тестами и документацией.

### Пример 2: Исправление бага изоляции данных

**Запрос**: "Исправь баг с утечкой данных между организациями"

**Результат**: Баг исправлен, добавлен тест для предотвращения регрессии.

---

**Версия**: 1.0  
**Дата создания**: 2025-12-20  
**Последнее обновление**: 2025-12-20  
**Статус**: Активные инструкции

